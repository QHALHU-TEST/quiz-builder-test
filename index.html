<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Builder</title>

  <style>
    :root{
      --bg:#0b0b16;
      --panel:#0f1028;
      --card:#0b0c23;
      --border:#24264b;
      --ink:#ffffff;
      --inkMut:#c6c7e2;
      --inkSoft:#8d90c9;
      --accent:#6c89ff;
      --ok:#2ed573;
      --bad:#ff4757;
      --warn:#fbc531;
    }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    .container{max-width:1280px;margin:0 auto;padding:16px}
    .row{display:flex;gap:10px;align-items:center}
    .wrap{flex-wrap:wrap}
    .space{justify-content:space-between}
    .hidden{display:none}
    .pill{border:1px solid var(--border);padding:2px 8px;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0))}
    .tabs{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .tab{border:1px solid var(--border);background:var(--panel);color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer}
    .tab.active{background:var(--accent);border-color:var(--accent);color:#fff}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin:10px 0}
    .btn{border:1px solid var(--border);background:var(--panel);color:var(--ink);border-radius:10px;padding:8px 12px;cursor:pointer}
    .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .small{color:var(--inkSoft);font-size:13px}
    textarea{width:100%;min-height:380px;resize:vertical;border:1px solid var(--border);border-radius:10px;padding:10px;background:var(--panel);color:var(--ink);font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}

    /* Question player */
    #questionView .question{font-size:18px;font-weight:700;margin:6px 0 8px}
    .opt{display:flex;gap:10px;align-items:flex-start;border:1px solid var(--border);border-radius:12px;padding:12px 14px;margin-top:8px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0))}
    .opt.correct{outline:2px solid rgba(46,213,115,.45);background:rgba(46,213,115,.07)}
    .opt.wrong{outline:2px solid rgba(255,71,87,.45);background:rgba(255,71,87,.08)}
    .opt input{margin-top:3px}

    #status{position:sticky;top:0;z-index:50;margin:-16px -16px 12px -16px;padding:10px 16px;background:linear-gradient(180deg,rgba(108,137,255,.12),rgba(108,137,255,0));border-bottom:1px solid var(--border)}
    #status .dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#2ed573;margin-right:6px}
  </style>
</head>
<body>
  <div class="container">
    <div id="status" class="row wrap">
      <span class="dot"></span>
      <b>JavaScript:</b> running
      <span class="small">No other feeds are shown here.</span>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="builder">Builder</button>
      <button class="tab" data-tab="player">Player</button>
      <!-- NEW: Mistakes tab (requested) -->
      <button class="tab" data-tab="mistakes">Mistakes</button>
    </div>

    <!-- Builder -->
    <section id="builder" class="card">
      <div class="row space wrap">
        <h3 style="margin:6px 0 10px">Builder</h3>
        <div class="row wrap small">
          <span class="pill">Paste your quiz text; format supports “✅” for correct.</span>
        </div>
      </div>

      <div class="row wrap small" style="gap:8px">
        <div class="pill">Name</div>
        <input id="quizName" class="small" placeholder="Quiz name" style="background:var(--panel);color:var(--ink);border:1px solid var(--border);border-radius:8px;padding:6px 10px" />
      </div>

      <textarea id="rawInput" placeholder="Format:

# Quiz: My Topic

Question text
- correct answer ✅
- wrong answer
- wrong answer

- (single dash separator line between questions)

Another question text
- wrong answer
- correct ✅"></textarea>

      <div class="row wrap" style="margin-top:10px">
        <button class="btn" id="loadSampleBtn">Load sample</button>
        <button class="btn" id="parseBtn">Parse</button>
        <button class="btn" id="testBtn">Test Run</button>
        <button class="btn primary" id="saveBtn">Save</button>
      </div>

      <div id="parseResult" class="small" style="margin-top:10px"></div>
    </section>

    <!-- Player -->
    <section id="player" class="card hidden">
      <div id="playerHeader" class="row space wrap">
        <div class="row wrap" style="gap:8px">
          <div class="pill" id="activeQuizName">Active</div>
          <div class="pill small" id="progressText">0/0</div>
        </div>
        <div class="row wrap" style="gap:8px">
          <button class="btn" id="prevBtn">Previous</button>
          <button class="btn" id="nextBtn">Next</button>
          <button class="btn primary" id="finishBtn">Finish</button>
        </div>
      </div>

      <div id="questionView"></div>
    </section>

    <!-- NEW: Mistakes (requested) -->
    <section id="mistakes" class="card hidden">
      <div class="row wrap" style="justify-content:space-between;align-items:center">
        <h3 style="margin:0">Mistakes / Review</h3>
        <div class="row wrap" style="gap:8px">
          <div class="pill">Show:</div>
          <div class="row wrap">
            <button class="tab active" id="filterIncorrect">Incorrect only</button>
            <button class="tab" id="filterAllAnswers">All answers</button>
          </div>
        </div>
      </div>
      <div id="mistakeList"></div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
